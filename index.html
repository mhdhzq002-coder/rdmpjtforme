<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Nur Atiqah ü§ç</title>

<style>
  body {
    margin: 0;
    font-family: "Segoe UI", sans-serif;
    background: linear-gradient(to bottom, #ffe6f0, #ffd6e8);
    color: #333;
    overflow-x: hidden;
    text-align: center;
    position: relative;
  }

  .container {
    max-width: 900px;
    margin: auto;
    padding: 20px;
    position: relative;
    z-index: 10; /* Ensure message is above all animations */
  }

  h1 {
    font-size: 2.5rem;
    margin-bottom: 10px;
    color: #ff2d95;
  }

  .message {
    display: none;
    text-align: left;
    background: rgba(255, 255, 255, 0.95);
    padding: 25px;
    border-radius: 15px;
    max-height: 500px;
    overflow-y: auto;
    box-shadow: 0 5px 20px rgba(0,0,0,0.2);
  }

  .message p {
    font-size: 1.1rem;
    line-height: 1.7;
    margin-bottom: 15px;
    color: #444;
  }

  .tap-hint {
    font-size: 1rem;
    opacity: 0.8;
    margin-bottom: 15px;
    color: #555;
  }

  .countdown {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
    margin-top: 20px;
  }

  .time-box {
    background: white;
    padding: 15px;
    border-radius: 15px;
    font-size: 1rem;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  }

  .time-box span {
    display: block;
    font-size: 2rem;
    font-weight: bold;
    color: #ff2d95;
  }

  button.play-btn {
    padding: 12px 25px;
    font-size: 1.2rem;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    background-color: #ff2d95;
    color: white;
    margin-bottom: 15px;
    transition: background-color 0.3s ease;
  }

  button.play-btn:hover {
    background-color: #ff69c7;
  }

  canvas {
    position: fixed;
    top: 0;
    left: 0;
    pointer-events: none;
    z-index: 1; /* Behind the message box */
  }

  @media (min-width: 768px) {
    .countdown {
      grid-template-columns: repeat(4, 1fr);
    }
    h1 {
      font-size: 3rem;
    }
    .message p {
      font-size: 1.2rem;
    }
  }
</style>
</head>
<body>

<!-- MUSIC -->
<audio id="bgMusic" loop>
  <source src="song.mp3" type="audio/mpeg">
</audio>

<!-- Canvases for fireworks, confetti, balloons -->
<canvas id="fireworks"></canvas>
<canvas id="confetti"></canvas>
<canvas id="balloons"></canvas>

<div class="container">
  <div class="tap-hint">üëÜ Tap anywhere to play music & start celebration</div>
  <button class="play-btn" onclick="playMusic()">üéµ Play Music</button>

  <h1 id="title">Countdown to Her Birthday ü§ç</h1>

  <div id="countdown" class="countdown">
    <div class="time-box"><span id="days">0</span>Days</div>
    <div class="time-box"><span id="hours">0</span>Hours</div>
    <div class="time-box"><span id="minutes">0</span>Minutes</div>
    <div class="time-box"><span id="seconds">0</span>Seconds</div>
  </div>

  <!-- FULL MESSAGE -->
  <div id="message" class="message">
    <h1>Sayangku, Nur Atiqah ü§ç</h1>
    <p>Selamat Ulang Tahun yang ke 24 Nur Atiqah, manusia teristimewa dalam hidup Haziq. Terima kasih, tak pernah gagal walau sesaat, untuk buat Haziq rasa penuh dengan rasa cinta & sayang awak ‚Äò) haziq mintak maaf sebab selalu tak hargai awak secukupnya. Terima kasih, sebab selalu maafkan diri haziq yang tak sempurna untuk awak ‚Äò)</p>
    <p>Semua berubah awak ‚Äò) haziq lagi banyak habiskan masa sendiri sekarang tanpa awak di sisi haziq yang dulu selalu teman haziq ‚Äò) awak selalu doakan haziq & manusia baik macam awak, haziq takkan pernah berhenti & selayaknya untuk haziq doakan yang baik baik & terbaik untuk diri awak. Haziq takkan putus doakan awak, semoga Allah permudahkan segala urusan kehidupan awak dunia & akhirat, dimurahkan dan diluaskan rezeki awak, dikurniakan afiyah dalam hidup awak, sentiasa dalam kesihatan yang baik. Semoga Allah jaga semua rasa kasih sayang yang ada ni, dipulihkan segalanya yang terjadi, dikurniakan sakinah & mawaddah untuk awak, bidadari haziq yang paling haziq sayang ‚Äò)</p>
    <p>Maafkan haziq semua perkara yang haziq buat banyak sakitkan awak, lukakan awak, semoga satu hari nanti, Allah permudahkan semuanya ü§ç</p>
    <p>Semoga semua yang ada, Allah berkati awak & panjangkan umur awak. Allah mudahkan setiap satu urusan awak. Haziq nak awak sihat sentiasa, dilindungi & dipelihara ke mana mana pun awak pergi. Whatever you do, I do support you, sayang ü§çüòî Walaupun haziq taktahu awak dekat mana, awak buat apa, awak dengan siapa, tapi haziq nak awak tahu, haziq sentiasa dekat sini, tunggu awak, message dari awak, selalu. Haziq mintak maaf haziq tak jadi yang terbaik tapi haziq janji haziq akan jadi yang terbaik. Awak jaga diri selalu , semoga tahun ni jadi tahun yang lebih baik untuk awak & semoga tahun ni lagi banyak achievement awak dapat ü§ç haziq sentiasa ingat awak, tak pernah lupa awak walau dekat mana pun haziq ada. Haziq sayang awak sangat sangat & haziq takkan pernah berhenti untuk sayang awak sepenuh hati haziq :) jaga diri awak, i miss you ‚Äò)</p>
    <p>Selamat Hari Lahir Nur Atiqah, selamanya kesayangan haziq ü§ç</p>
  </div>
</div>

<script>
/* MUSIC */
const music = document.getElementById("bgMusic");
function playMusic() {
  music.play();
  document.querySelector(".tap-hint").style.display = "none";
  document.querySelector(".play-btn").style.display = "none";
}
document.body.addEventListener("click", playMusic, { once: true });

/* COUNTDOWN */
const targetDate = new Date("January 13, 2026 17:02:00").getTime();
const d = document.getElementById("days");
const h = document.getElementById("hours");
const m = document.getElementById("minutes");
const s = document.getElementById("seconds");
const countdown = document.getElementById("countdown");
const message = document.getElementById("message");
const title = document.getElementById("title");

function updateCountdown() {
  const now = new Date().getTime();
  const diff = targetDate - now;
  if (diff <= 0) {
    countdown.style.display = "none";
    message.style.display = "block";
    title.innerText = "Selamat Hari Lahir ü§ç";
    startFireworks();
    setTimeout(() => { startConfetti(); startBalloons(); }, 3000);
    return;
  }
  d.innerText = Math.floor(diff / (1000*60*60*24));
  h.innerText = Math.floor((diff/(1000*60*60)) % 24);
  m.innerText = Math.floor((diff/(1000*60)) % 60);
  s.innerText = Math.floor((diff/1000) % 60);
}
setInterval(updateCountdown, 1000);
updateCountdown();

/* FIREWORKS */
const fwCanvas = document.getElementById("fireworks");
const fwCtx = fwCanvas.getContext("2d");
fwCanvas.width = window.innerWidth;
fwCanvas.height = window.innerHeight;
let fireworks = [];
function startFireworks() {
  for(let i=0;i<20;i++){
    fireworks.push({
      x: Math.random()*fwCanvas.width,
      y: Math.random()*fwCanvas.height/2,
      r: Math.random()*2+1,
      dx: Math.random()*6-3,
      dy: Math.random()*-7-2,
      alpha:1
    });
  }
  animateFireworks();
}
function animateFireworks(){
  fwCtx.clearRect(0,0,fwCanvas.width,fwCanvas.height);
  fireworks.forEach(fw=>{
    fwCtx.beginPath();
    fwCtx.arc(fw.x,fw.y,fw.r,0,Math.PI*2);
    fwCtx.fillStyle = `hsla(${Math.random()*360},100%,50%,${fw.alpha})`;
    fwCtx.fill();
    fw.x += fw.dx;
    fw.y += fw.dy;
    fw.alpha -= 0.02;
  });
  fireworks = fireworks.filter(fw=>fw.alpha>0);
  if(fireworks.length>0) requestAnimationFrame(animateFireworks);
}

/* CONFETTI - continuous gentle */
const confCanvas = document.getElementById("confetti");
const ctx = confCanvas.getContext("2d");
confCanvas.width = window.innerWidth;
confCanvas.height = window.innerHeight;
let confetti = [];
for(let i=0;i<20;i++){ 
  confetti.push({
    x: Math.random()*confCanvas.width,
    y: Math.random()*confCanvas.height,
    r: Math.random()*5+2,
    d: Math.random()*0.5+0.2,
    c: `hsl(${Math.random()*360},80%,70%)`
  });
}

/* BALLOONS - 20 slow continuous */
const blCanvas = document.getElementById("balloons");
const blCtx = blCanvas.getContext("2d");
blCanvas.width = window.innerWidth;
blCanvas.height = window.innerHeight;
let balloons = [];
for(let i=0;i<20;i++){
  balloons.push({
    x: Math.random()*blCanvas.width,
    y: Math.random()*blCanvas.height,
    r: Math.random()*20+15,
    dy: Math.random()*0.15+0.05,
    color: `hsl(${Math.random()*360},70%,70%)`
  });
}

/* ANIMATION with delta time for constant speed */
let lastTime = performance.now();

function animate(now){
  const delta = (now - lastTime)/1000;
  lastTime = now;

  // Confetti
  ctx.clearRect(0,0,confCanvas.width,confCanvas.height);
  confetti.forEach(p=>{
    p.y += p.d * 50 * delta; // 50 pixels/sec
    if(p.y>confCanvas.height) p.y=0;
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fillStyle = p.c;
    ctx.fill();
  });

  // Balloons
  blCtx.clearRect(0,0,blCanvas.width,blCanvas.height);
  balloons.forEach(b=>{
    b.y -= b.dy * 50 * delta;
    if(b.y+b.r*2 < 0) b.y = blCanvas.height + b.r*2;
    blCtx.beginPath();
    blCtx.ellipse(b.x,b.y,b.r,b.r*1.2,0,0,Math.PI*2);
    blCtx.fillStyle = b.color;
    blCtx.fill();
    blCtx.beginPath();
    blCtx.moveTo(b.x,b.y+b.r*1.2);
    blCtx.lineTo(b.x,b.y+b.r*1.8);
    blCtx.strokeStyle = b.color;
    blCtx.stroke();
  });

  requestAnimationFrame(animate);
}

function startConfetti(){ requestAnimationFrame(animate); }
function startBalloons(){ /* combined with confetti */ }

/* RESIZE CANVASES */
window.addEventListener("resize",()=>{
  confCanvas.width = window.innerWidth;
  confCanvas.height = window.innerHeight;
  fwCanvas.width = window.innerWidth;
  fwCanvas.height = window.innerHeight;
  blCanvas.width = window.innerWidth;
  blCanvas.height = window.innerHeight;
});
</script>
</body>
</html>
